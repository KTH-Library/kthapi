<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Publications-API-Usage • kthapi</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Publications-API-Usage">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">kthapi</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Potential-Heads.html">Potential-Heads</a></li>
    <li><a class="dropdown-item" href="../articles/Publications-API-Usage.html">Publications-API-Usage</a></li>
    <li><a class="dropdown-item" href="../articles/Schools-Departments-from-KTH-Directory-API.html">Schools-Departments-from-KTH-Directory-API</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/KTH-Library/kthapi/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Publications-API-Usage</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/KTH-Library/kthapi/blob/master/vignettes/Publications-API-Usage.Rmd" class="external-link"><code>vignettes/Publications-API-Usage.Rmd</code></a></small>
      <div class="d-none name"><code>Publications-API-Usage.Rmd</code></div>
    </div>

    
    
<p>The function providing access to KTH Publications API data can
provide some overview stats, list the active public users, active users
with publications and more. Some usage examples:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/KTH-Library/kthapi" class="external-link">kthapi</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"stats"</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;KTH API call for stats&gt;</span></span>
<span><span class="co">#&gt; $activeUsers</span></span>
<span><span class="co">#&gt; [1] 3356</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $publicUsers</span></span>
<span><span class="co">#&gt; [1] 1061</span></span>
<span></span>
<span><span class="co"># top 5 active public users with publication counts</span></span>
<span><span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"activePublicUsers"</span><span class="op">)</span><span class="op">$</span><span class="va">content</span><span class="op">$</span><span class="va">users</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html" class="external-link">setNames</a></span><span class="op">(</span><span class="va">.</span>, nm <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"count"</span>, <span class="st">"kthid"</span>, <span class="st">"username"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">count</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="va">kthid</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">count</th>
<th align="right">username</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">u1zzwffz</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">u1zyo9sj</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">u1zrx6q1</td>
<td align="right">199</td>
</tr>
<tr class="even">
<td align="left">u1zotlxf</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">u1znylhw</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="co">#kth_publications("activeUsersWithPublications")$content$users %&gt;% </span></span>
<span><span class="co">#  as_tibble() %&gt;%</span></span>
<span><span class="co">#  slice(1:5)</span></span>
<span>  </span>
<span><span class="co"># some users provide public access to publications</span></span>
<span><span class="va">fp</span> <span class="op">&lt;-</span> </span>
<span>  <span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"filteredPublications"</span>, username <span class="op">=</span> <span class="st">"pal"</span><span class="op">)</span><span class="op">$</span><span class="va">content</span></span>
<span>  </span>
<span><span class="va">fp</span><span class="op">$</span><span class="va">filteredPublications</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">title</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 1</span></span>
<span><span class="co">#&gt;   title                                                                                                         </span></span>
<span><span class="co">#&gt;   &lt;chr&gt;                                                                                                         </span></span>
<span><span class="co">#&gt; 1 Two Classes of Equatorial Magnetotail Dipolarization Fronts Observed by Magnetospheric Multiscale Mission     </span></span>
<span><span class="co">#&gt; 2 Direct observations of anomalous resistivity and diffusion in collisionless plasma                            </span></span>
<span><span class="co">#&gt; 3 Magnetic Field Annihilation in a Magnetotail Electron Diffusion Region With Electron-Scale Magnetic Island    </span></span>
<span><span class="co">#&gt; 4 Investigation of the homogeneity of energy conversion processes at dipolarization fronts from MMS measurements</span></span>
<span><span class="co">#&gt; 5 Mapping MMS Observations of Solitary Waves in Earth's Magnetic Field</span></span>
<span></span>
<span><span class="co"># available fields for publication data</span></span>
<span><span class="va">fp</span><span class="op">$</span><span class="va">filteredPublications</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "publicationId"             "createdAt"                 "updatedAt"                 "organizationId"            "topics"                   </span></span>
<span><span class="co">#&gt;  [6] "authors"                   "seriesIssueNr"             "seriesTitle"               "patent"                    "statementOfResponsibility"</span></span>
<span><span class="co">#&gt; [11] "identifierUri"             "bookEdition"               "bookPublisher"             "bookPlace"                 "conferenceName"           </span></span>
<span><span class="co">#&gt; [16] "recordOrigin"              "hostExtentEnd"             "hostExtentStart"           "hostIssue"                 "hostVolume"               </span></span>
<span><span class="co">#&gt; [21] "hostSubTitle"              "hostTitle"                 "contentTypeCode"           "publicationSubTypeCode"    "publicationTypeCode"      </span></span>
<span><span class="co">#&gt; [26] "dateIssued"                "publicationStatus"         "subTitle"                  "title"                     "visible"</span></span>
<span></span>
<span><span class="co"># example record</span></span>
<span><span class="va">fp</span><span class="op">$</span><span class="va">filteredPublications</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">1</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; Rows: 1</span></span>
<span><span class="co">#&gt; Columns: 30</span></span>
<span><span class="co">#&gt; $ publicationId             &lt;chr&gt; "diva2:1808333"</span></span>
<span><span class="co">#&gt; $ createdAt                 &lt;chr&gt; "2023-11-01T00:10:35.080Z"</span></span>
<span><span class="co">#&gt; $ updatedAt                 &lt;chr&gt; "2025-02-14T00:09:40.054Z"</span></span>
<span><span class="co">#&gt; $ organizationId            &lt;chr&gt; "879235"</span></span>
<span><span class="co">#&gt; $ topics                    &lt;list&gt; [&lt;data.frame[7 x 2]&gt;]</span></span>
<span><span class="co">#&gt; $ authors                   &lt;list&gt; [&lt;data.frame[24 x 4]&gt;]</span></span>
<span><span class="co">#&gt; $ seriesIssueNr             &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ seriesTitle               &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ patent                    &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ statementOfResponsibility &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ identifierUri             &lt;chr&gt; "https://urn.kb.se/resolve?urn=urn:nbn:se:kth:diva-338894"</span></span>
<span><span class="co">#&gt; $ bookEdition               &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ bookPublisher             &lt;chr&gt; "American Geophysical Union (AGU)"</span></span>
<span><span class="co">#&gt; $ bookPlace                 &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ conferenceName            &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ recordOrigin              &lt;chr&gt; "u1wqrs7e"</span></span>
<span><span class="co">#&gt; $ hostExtentEnd             &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ hostExtentStart           &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ hostIssue                 &lt;chr&gt; "10"</span></span>
<span><span class="co">#&gt; $ hostVolume                &lt;chr&gt; "128"</span></span>
<span><span class="co">#&gt; $ hostSubTitle              &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ hostTitle                 &lt;chr&gt; "Journal of Geophysical Research - Space Physics"</span></span>
<span><span class="co">#&gt; $ contentTypeCode           &lt;chr&gt; "refereed"</span></span>
<span><span class="co">#&gt; $ publicationSubTypeCode    &lt;chr&gt; ""</span></span>
<span><span class="co">#&gt; $ publicationTypeCode       &lt;chr&gt; "article"</span></span>
<span><span class="co">#&gt; $ dateIssued                &lt;chr&gt; "2023"</span></span>
<span><span class="co">#&gt; $ publicationStatus         &lt;chr&gt; "Published"</span></span>
<span><span class="co">#&gt; $ subTitle                  &lt;chr&gt; "A Statistical Overview"</span></span>
<span><span class="co">#&gt; $ title                     &lt;chr&gt; "Two Classes of Equatorial Magnetotail Dipolarization Fronts Observed by Magnetospheric Multiscale Mission"</span></span>
<span><span class="co">#&gt; $ visible                   &lt;lgl&gt; TRUE</span></span>
<span></span>
<span><span class="co"># whether the user provides public access can be checked with the userstatus call</span></span>
<span><span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"userstatus"</span>, username <span class="op">=</span> <span class="st">"pal"</span><span class="op">)</span><span class="op">$</span><span class="va">public</span></span>
<span><span class="co">#&gt; NULL</span></span>
<span></span>
<span><span class="co"># not all users have registered publications</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/conditions.html" class="external-link">tryCatch</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"filteredPublications"</span>, username <span class="op">=</span> <span class="st">"mskyttner"</span><span class="op">)</span>, </span>
<span>  error <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">e</span><span class="op">)</span> <span class="va">e</span><span class="op">)</span></span>
<span><span class="co">#&gt; &lt;simpleError: The API returned an error: Not Found: /api/publications/v1/filteredPublications/mskyttner&gt;</span></span>
<span></span>
<span><span class="co"># organisations can be queried</span></span>
<span><span class="fu"><a href="../reference/kth_publications.html">kth_publications</a></span><span class="op">(</span><span class="st">"organisations"</span><span class="op">)</span><span class="op">$</span><span class="va">content</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/slice.html" class="external-link">slice</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 5 × 3</span></span>
<span><span class="co">#&gt;       id name$en                                                                          $sv                                                           nameLocalized</span></span>
<span><span class="co">#&gt;    &lt;int&gt; &lt;chr&gt;                                                                            &lt;chr&gt;                                                         &lt;chr&gt;        </span></span>
<span><span class="co">#&gt; 1    177 KTH                                                                              KTH                                                           KTH          </span></span>
<span><span class="co">#&gt; 2  12851 Centres                                                                          Centra                                                        Centra       </span></span>
<span><span class="co">#&gt; 3 887502 Center for the Advancement of Integrated Medical and Engineering Sciences, AIMES Center for the Advancement of Integrated Medical and Enginee… Center for t…</span></span>
<span><span class="co">#&gt; 4  12850 Nordic Institute for Theoretical Physics NORDITA                                 Nordic Institute for Theoretical Physics NORDITA              Nordic Insti…</span></span>
<span><span class="co">#&gt; 5   5921 Science for Life Laboratory, SciLifeLab                                          Science for Life Laboratory, SciLifeLab                       Science for …</span></span></code></pre></div>
  </main>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Gaël Dubus, Agne Larsson, Markus Skyttner.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
